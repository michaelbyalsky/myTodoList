<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Shopping list example</title>
    <link rel="stylesheet" href="/DOMcourse/shopStyle.css">

</head>

<body>
    
    <h1 id="mainTitle">My shopping list</h1>

    <div>
        <label for="item">Enter a new item:</label>
        <input type="text" name="item" id="item">
        <button id="addItem">Add item</button>
    </div>

    <ul id="list">

    </ul>

    <script>
        const ul = document.querySelector("ul");
        const input = document.querySelector("#item");
        const button = document.querySelector("#addItem");
        input.focus();

        const addItemToList = () => {
            value = input.value;
            input.value = "";
            let li = document.createElement("li")
            let span = document.createElement("span")
            if (value) {
                let delBtn = document.createElement("button")
                ul.appendChild(li);
                li.appendChild(span);
                li.appendChild(delBtn);
                span.classList.add("value");
                span.innerText = value;
                delBtn.classList.add("delete");
                delBtn.textContent = "X";
            }
        }

        const removeItem = (e) => {
            //define the father
            let li = e.target.parentElement;
            //create sure father
            const sure = document.createElement("span");
            sure.classList.add("sure");
            li.appendChild(sure)
            sure.textContent = "Are you sure?"
            //create sure buttons (children) 
            //delete button
            var deleteSure = document.createElement("button");
            deleteSure.classList.add("deleteSure");
            sure.appendChild(deleteSure)
            deleteSure.textContent = "delete"
            //undo button
            var undoBtn = document.createElement("button");
            undoBtn.classList.add("undoBtn");
            sure.appendChild(undoBtn)
            undoBtn.textContent = "undo"
        }

        input.addEventListener("keyup", (e) => {
            if (e.keyCode === 13 && e.target.id === "item") {
                addItemToList();
            }
        })



        document.addEventListener("click", (e) => {
            if (e.target.id === "addItem") {
                //call add  fund 
                addItemToList();
            }


            if (e.target.className === "delete") {
                //call the remove func
                removeItem(e);
            }
            //if you sure section
            if (e.target.className === "deleteSure") {
                let li = e.target.parentElement.parentElement;
                li.parentElement.removeChild(li);
            } else if (e.target.className === "undoBtn") {
                let undo = e.target.parentElement;
                undo.parentElement.removeChild(undo);
            }

        });

        const list = document.querySelector("#li")












    </script>
</body>

</html>