<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <section id="control-section">
     
      <input type="text" id="textInput" placeholder="insert task" />
      <label for="priority">Choose a priorety:</label>
      <select name="priority" id="prioritySelector">
        <optgroup label="--choose priority--"></optgroup>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      <button id="addButton">submit</button>
    </section>
    <section>
      <div class="todoContainer"></div>
    </section>
    <script>
      const taskInput = document.querySelector("#textInput");
      const priorety = document.querySelector("#prioritySelector");
      const addButton = document.querySelector("#addButton");
      const container = document.querySelector(".todoContainer");
      //task counter
        //current time
      const getTime = new Date().toISOString().slice(0, 19).replace('T', ' ');
        
      document.addEventListener("click", (e) => {
        if (e.target.id === "addButton") {
          //check if we pressed on the insert button
          let currentTaskText = taskInput.value;
          taskInput.value = "";
          //checks if the imput section not empty
          if (currentTaskText) {
            //add div wrapper for current task
            let taskWrapper = document.createElement("div");
            taskWrapper.classList.add("taskWrapper");
            container.appendChild(taskWrapper);
            //add priority to the current task
            let priorityNum = priorety.options[priorety.selectedIndex].value;
            let currentTaskPriority = document.createElement("div");
            currentTaskPriority.innerText = priorityNum;
            currentTaskPriority.classList.add("todoPriority");
            taskWrapper.appendChild(currentTaskPriority);
            //add time to the current task
            let currentTaskTime = document.createElement("div");
            currentTaskTime.innerText = getTime;
            currentTaskTime.classList.add("todoCreatedAt");
            taskWrapper.appendChild(currentTaskTime);
            //add the current task
            let currentTask = document.createElement("div");
            currentTask.innerText = currentTaskText;
            currentTask.classList.add("todoText");
            taskWrapper.appendChild(currentTask);
          }
        }
      });
    </script>
  </body>
</html>
